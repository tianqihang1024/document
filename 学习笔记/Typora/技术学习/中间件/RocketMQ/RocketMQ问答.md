



### `RocketMQ`消息丢失解决方案





### `RocketMQ`的水平伸缩







### `MessageQueue`是消息存储和传输的实际容器，这个传输体现在哪里？

解：可能就是他存储的消息，传输到`Consumer`那里吧





### `RocketMQ`的水平扩张









### 订阅关系不一致会出现什么问题（监听的`tar`不一致，监听`tar`的顺序不一致，监听的`topic`不一致）

-   解：首先明确一点，微服务的特点就是不一样的业务需要进行拆分。消费组就是一个订阅关系单元，你要订阅多个`topic`、`tar`，就不符合微服务的理念。
-   解：订阅关系不一致会出现消息丢失的问题，问题点就在于消费组对于消息的轮询上。举个栗子：`seckill`主题下有两个对列`queue-A、queue-B`，两个标识`tag1、tag2`，四条消息`message1、message2、message3、message4`。消费组这边呢？两个消费者，`A`标识了`tar1`，`B`标识了`tag2`。我们知道的，消息组会轮询获取到的消息给消费者消费。理想情况下应该这样，一个`tag1`的消息给`A`，下一个呢就是`tagb`的消息给`B`，但是理想就是理想，我们获取的消息是无序的、混乱的，标识了`tag1`的消费者不会处理`tag2`的消息。所以我们应该遵守订阅关系一致这个约束。
-   解：









`RocketMQ`为什么禁止自动创建`Topic`