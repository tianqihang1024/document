



> 1、将下载好的mysql压缩文件放置在linux的/usr/local文件夹下，解压该压缩文件

```mysql
[root@localhost local]# tar -zxvf mysql-5.6.43-linux-glibc2.12-x86_64.tar.gz
```



> 将解压后的文件重命名为mysql 

```mysql
[root@localhost local]# mv mysql-5.6.43-linux-glibc2.12-x86_64 mysql
```



> 创建mysql用户组及用户 

```mysql
[root@localhost local]# groupadd mysql						# 备用组：mysqlcolleague
[root@localhost local]# useradd -r -g mysql mysql			# 备用名及密码：mysqlcolleague
```



> 进入到mysql目录，执行添加MySQL配置的操作 

```mysql
[root@localhost mysql]# cp support-files/my-medium.cnf /etc/my.cnf
或：
[root@localhost mysql]# cp support-files/my-default.cnf /etc/my.cnf
cp：是否覆盖"/etc/my.cnf"？ 按 y 回车
```



> 编辑/etc/my.cnf文件

vi /etc/my.cnf 

在my.cnf文件中添加或者修改相关配置，更改完成后保存退出

```mysql
# For advice on how to change settings please see
# http://dev.mysql.com/doc/refman/5.6/en/server-configuration-defaults.html
# *** DO NOT EDIT THIS FILE. It's a template which will be copied to the
# *** default location during install, and will be replaced if you
# *** upgrade to a newer version of MySQL.

[mysqld]

# Remove leading # and set to the amount of RAM for the most important data
# cache in MySQL. Start at 70% of total RAM for dedicated server, else 10%.
# innodb_buffer_pool_size = 128M

# Remove leading # to turn on a very important data integrity option: logging
# changes to the binary log between backups.
# log_bin

# These are commonly set, remove the # and set as required.
basedir = /usr/local/mysql
datadir = /usr/local/mysql/data
port = 3306
# server_id = .....
socket = /tmp/mysql.sock		# 主从复制的话，这个不要改，可能会出错
character-set-server = utf8
skip-name-resolve
log-err = /usr/local/mysql/data/error.log
pid-file = /usr/local/mysql/data/mysql.pid

# Remove leading # to set options mainly useful for reporting servers.
# The server defaults are faster for transactions and fast SELECTs.
# Adjust sizes as needed, experiment to find the optimal values.
# join_buffer_size = 128M
# sort_buffer_size = 2M
# read_rnd_buffer_size = 2M

sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES
```



> 在mysql当前目录下设定目录的访问权限（注意后面的小点，表示当前目 录） 

```mysql
[root@localhost mysql]# chown -R mysql .
[root@localhost mysql]# chgrp -R mysql .
[root@localhost mysql]# scripts/mysql_install_db --user=mysql
```

问题一：­-bash: scripts//mysql_install_db: /usr/bin/perl: 坏的解释器: 没有那个文件或目录 

解决方案：yum -y install perl perl-devel

问题二：FATAL ERROR: please install the following Perl modules before executing  scripts//mysql_install_db: Data::Dumper 

解决方案：yum -y install autoconf

```mysql
[root@localhost mysql]# chown -R root .
[root@localhost mysql]# chown -R mysql data
```



> 初始化数据（在mysql/bin或者mysql/scripts下有个 mysql_install_db 可 执行文件初始化数据库），进入mysql/bin或者mysql/scripts目录下，执行下 面命令 

```mysql
[root@localhost scripts]# ./mysql_install_db --verbose --user=root --defaults-file=/etc/my.cnf --datadir=/usr/local/mysql/data --basedir=/usr/local/mysql --pid-file=/usr/local/mysql/data/mysql.pid --tmpdir=/tmp
```



> 启动mysql，进入/usr/local/mysql/bin目录，执行下面命令 

```mysql
[root@localhost bin]# ./mysqld_safe --defaults-file=/etc/my.cnf --socket=/tmp/mysql.sock --user=root &
```

注意：如果光标停留在屏幕上，表示启动成功，需要我们先关闭shell终端，再开启一个新 的shell终端，不要执行退出操作。如果出现 mysql ended这样的语句，表示Mysql没有正 常启动，你可以到log中查找问题。



> 重启linux 

```
[root@localhost mysql]# reboot
```





> 设置开机启动，新开启shell中断后，进入mysql目录，执行下面命令

```mysql
[root@localhost mysql]# cp /usr/local/mysql/support-files/mysql.server /etc/init.d/mysqld
[root@localhost mysql]# cp /usr/local/mysql/support-files/mysql.server /etc/rc.d/init.d/mysqld
cp：是否覆盖"/etc/rc.d/init.d/mysqld"？ y	# 有就覆盖
[root@localhost mysql]# chmod 700 /etc/init.d/mysqld
[root@localhost mysql]# chkconfig --add mysqld
[root@localhost mysql]# chkconfig --level 2345 mysqld on
[root@localhost mysql]# chown mysql:mysql -R /usr/local/mysql/
```



> 重启linux 

```mysql
[root@localhost mysql]# reboot
```



> 查看mysql状态 

```mysql
[root@localhost mysql]# service mysqld status
```



> 添加远程访问权限 

```mysql
# 添加mysql命令 
[root@localhost ~]# ln -s /usr/local/mysql/bin/mysql /usr/bin
# 更改访问权限
# 登录mysql,执行下面命令
[root@localhost ~]# mysql -uroot -p
# 密码为空直接回车,运行以下两条命令
GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDENTIFIED BY 'root' with grant option;
Flush privileges;
# 退出mysql
exit
```



> 重启linux

```mysql
[root@localhost ~]# reboot
```



> 单机可能出现的错误

==运行安装mysql 报错== 

```mysql
[root@localhost mysql-mult]# ./scripts/mysql_install_db  --defaultsfile=conf/3306my.cnf FATAL ERROR: please install the following Perl modules before executing  ./scripts/mysql_install_db: Data::Dumper
```

解决方法 ：安装autoconf库   

命令：yum -y install autoconf



==libaio.so.1: cannot open shared object file解决 方法==

```mysql
[root@localhost mysql-mult]# linux libaio.so.1: cannot open shared object file: No such file or directory 
```

缺少安装包libaio和libaio­devel.

命令：yum install libaio*。



> 主从可能出现的问题

==Failed to start mysqld.service: Access denied==





==The server quit without updating PID file==













